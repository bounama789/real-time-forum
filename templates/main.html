{{define "main"}}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PENC MI</title>
    <link
      rel="icon"
      type="image/png"
      href="/static/assets/favicon.svg"
      sizes="32x32"
    />
    <script src="../static/scripts/script.js" defer></script>
    <!-- import htmx -->
    <script
      src="https://unpkg.com/htmx.org@1.9.5"
      integrity="sha384-xcuj3WpfgjlKF+FXhSQFQ0ZNr39ln+hwjN3npfM9VBnUskLolQAcN80McRIVOPuO"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="/static/styles/header.css" />
    <link rel="stylesheet" href="/static/styles/body.css" />
    <link rel="stylesheet" href="/static/styles/profile.css" />
  </head>

  <body>
    <header class="affected">
      <div class="contact_group" href="/">
        <a href="/">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="40"
            viewBox="0 0 30 30.000001"
            height="40"
            preserveAspectRatio="xMidYMid meet"
            version="1"
          >
            <rect width="40" height="40" fill="transparent" />
            <g clip-path="url(#319e079c70)">
              <path
                fill="transparent"
                d="M 0.5 0 L 29.5 0 L 29.5 29 L 0.5 29 Z M 0.5 0"
                fill-opacity="0"
                fill-rule="nonzero"
              />
            </g>
            <g clip-path="url(#3951569fc6)">
              <path
                fill="#00abe4"
                d="M 18.4 9.1 L 27.6 9.1 C 27.8 9.1 28 9.1 28.2 9.2 C 28.4 9.3 28.5 9.4 28.7 9.5 C 28.8 9.7 28.9 9.8 29 10 C 29.1 10.2 29.1 10.4 29.1 10.6 L 29.1 12.6 C 29.1 12.8 29.1 13 29 13.2 C 28.9 13.3 28.8 13.5 28.7 13.7 C 28.5 13.8 28.4 13.9 28.2 14 C 28 14.1 27.8 14.1 27.6 14.1 L 16.8 14.1 L 16.8 10.6 C 16.8 10.4 16.8 10.2 16.9 10 C 17 9.8 17.1 9.7 17.3 9.5 C 17.4 9.4 17.6 9.3 17.8 9.2 C 18 9.1 18.2 9.1 18.4 9.1 Z M 18.4 9.1"
                fill-opacity="1"
                fill-rule="nonzero"
              />
            </g>
            <g clip-path="url(#69bba946a2)">
              <path
                fill="#00abe4"
                d="M 24.2 14.1 L 16.8 14.1 L 16.8 22.8 L 20.4 19.2 L 24.2 19.2 C 24.4 19.2 24.6 19.1 24.8 19.1 C 25 19 25.2 18.9 25.3 18.7 C 25.5 18.6 25.6 18.4 25.7 18.2 C 25.8 18 25.8 17.8 25.8 17.6 L 25.8 15.7 C 25.8 15.5 25.8 15.3 25.7 15.1 C 25.6 14.9 25.5 14.7 25.3 14.6 C 25.2 14.4 25 14.3 24.8 14.2 C 24.6 14.2 24.4 14.1 24.2 14.1 Z M 24.2 14.1"
                fill-opacity="1"
                fill-rule="nonzero"
              />
              <path
                fill="#ffffff"
                d="M 24.2 14.1 L 18.4 14.1 C 18.2 14.1 18 14.2 17.8 14.2 C 17.6 14.3 17.4 14.4 17.3 14.6 C 17.1 14.7 17 14.9 16.9 15.1 C 16.8 15.3 16.8 15.5 16.8 15.7 L 16.8 22.8 L 19.8 19.8 C 20.2 19.4 20.7 19.2 21.3 19.2 L 24.2 19.2 C 24.4 19.2 24.6 19.1 24.8 19.1 C 25 19 25.2 18.9 25.3 18.7 C 25.5 18.6 25.6 18.4 25.7 18.2 C 25.8 18 25.8 17.8 25.8 17.6 L 25.8 15.7 C 25.8 15.5 25.8 15.3 25.7 15.1 C 25.6 14.9 25.5 14.7 25.3 14.6 C 25.2 14.4 25 14.3 24.8 14.2 C 24.6 14.2 24.4 14.1 24.2 14.1 Z M 24.2 14.1"
                fill-opacity="1"
                fill-rule="nonzero"
              />
            </g>
            <path
              stroke-linecap="round"
              transform="matrix(0.7,0,0,0.7,19.1,16.4)"
              fill="none"
              stroke-linejoin="miter"
              d="M 0.5 0.5 L 5.9 0.5"
              stroke="#d6e9ff"
              stroke-width="1"
              stroke-opacity="1"
              stroke-miterlimit="4"
            />
            <path
              stroke-linecap="round"
              transform="matrix(0.7,0,0,0.7,19.1,11.4)"
              fill="none"
              stroke-linejoin="miter"
              d="M 0.5 0.5 L 9.9 0.5"
              stroke="#d6e9ff"
              stroke-width="1"
              stroke-opacity="1"
              stroke-miterlimit="4"
            />
            <g fill="#00abe4" fill-opacity="1">
              <g transform="translate(0.5,21.5)">
                <g>
                  <path
                    d="M 5.3 0.2 C 8 0.2 9.7 -2.1 9.7 -5.7 C 9.7 -9.3 8 -11.6 5.3 -11.6 C 2.6 -11.6 0.9 -9.3 0.9 -5.7 C 0.9 -2.1 2.6 0.2 5.3 0.2 Z M 5.3 -1.1 C 3.5 -1.1 2.3 -2.8 2.3 -5.7 C 2.3 -8.5 3.5 -10.2 5.3 -10.2 C 7.2 -10.2 8.3 -8.5 8.3 -5.7 C 8.3 -2.8 7.2 -1.1 5.3 -1.1 Z M 5.3 -1.1"
                  />
                </g>
              </g>
            </g>
            <g fill="#00abe4" fill-opacity="1">
              <g transform="translate(11.1,21.5)">
                <g>
                  <path
                    d="M 0.4 -11.4 L 0.4 -10.1 L 2.6 -10.1 L 2.6 0 L 4 0 L 4 -11.4 Z M 0.4 -11.4"
                  />
                </g>
              </g>
            </g>
          </svg>
          <span class="logo__text">PENC MI</span>
        </a>
      </div>
      <div class="wrap">
        <div class="search">
          <div class="search__input__button">
            <input
              name="q"
              type="text"
              hx-target=".sugg__div"
              hx-post="/search/sugg"
              hx-trigger="keyup"
              class="searchTerm affected"
              placeholder="Search..."
            />
            <button
              hx-get="/search"
              hx-trigger="click"
              hx-swap="innerHTML"
              hx-target=".container__center"
              class="searchButton"
            >
              <i class="fa fa-search"></i>
            </button>
          </div>
          <div class="sugg__div"></div>
        </div>
        {{ if not .IsAuthenticated }}
        <button class="icon theme__toggle">dark_mode</button>
        {{end}}
      </div>
      {{ if .IsAuthenticated }}
      <div class="navigation__group">
        <a href="/post/create" class="creation_post icon" title="Create Post">
          post_add</a
        >
        <!-- <a class="icon" alt="Notification" title="Notifications">
        notifications</a> -->
        <button class="icon theme__toggle">dark_mode</button>
        <img
          class="profile"
          title="Profile"
          src="https://api.dicebear.com/7.x/initials/svg?seed={{.Username}}"
          alt="User Picture"
        />
      </div>
      <div class="dropdown__wrapper hide dropdown__wrapper--fade-in none">
        <section class="dropdown__group">
          <div class="user-name">{{.Username}}</div>
          <div class="email">{{.Email}}</div>
        </section>
        <div class="creation_post_responsive">
          <a href="/post/create" title="Create Post">
            <span class="icon minus">post_add</span> Create Post</a
          >
          <hr class="divider" />
        </div>
        <div class="container__right__content responsive">
          <nav>
            <ul>
              <li>
                <a
                  title="My Posts"
                  hx-get="/posts/get?created=1"
                  hx-target=".container__center"
                >
                  <span class="icon minus"> article </span>
                  My Posts
                </a>
              </li>
            </ul>
            <ul>
              <li>
                <a
                  title="Likes"
                  hx-get="/posts/get?liked=1"
                  hx-target=".container__center"
                >
                  <span class="icon minus"> favorite </span>
                  Liked</a
                >
              </li>
            </ul>
            <ul>
              <li>
                <a
                  title="Comments"
                  hx-get="/posts/get?commented=1"
                  hx-target=".container__center"
                >
                  <span class="icon minus"> comment </span>
                  Commented
                </a>
              </li>
            </ul>
          </nav>
        </div>
        <hr class="divider" />
        <nav>
          <ul>
            <li>
              <a href="/about"><span class="icon minus"> info </span> About</a>
            </li>
            <li style="color: #e3452f">
              <a
                href="/auth/signout"
                hx-delete="/auth/signout"
                hx-trigger="click"
                hx-redirect="on: 200; to: /"
              >
                <img src="../static/assets/logout.svg" alt="Log Out" /> Log out
              </a>
            </li>
          </ul>
        </nav>
      </div>
      {{ else }}
      <div class="navigation__group">
        <a href="/auth/signin" class="login auth__button">
          <i class="fas fa-sign-in-alt "></i> Log In</a
        >
        <a href="/auth/signup" class="signup auth__button">
          <i class="fas fa-user-plus "></i> Sign Up</a
        >
      </div>
      {{ end }}
      <div class="hamburger icon">menu</div>
    </header>
    <section class="main__container">
      <div class="container">
        <div class="container__left">
          <nav class="accordion-container affected">
            <div class="main-item">
              <span class="icon"> home </span> <a href="/">HOME</a>
            </div>
            <div class="main-item">
              <span class="icon">explorer</span> <a>EXPLORER</a>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="expand-icon"
                width="44"
                height="44"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M9 6l6 6l-6 6" />
              </svg>
            </div>
            <ul>
              {{range .Categories}}
              <li>
                <div class="line-vertical"></div>
                <div class="line-horizontal"></div>
                <a
                  class="Categories__Name"
                  title="{{.Name}}"
                  hx-get="/posts/get?category={{.CategoryId}}"
                  hx-target=".container__center"
                >
                  {{.Name}}</a
                >
              </li>
              {{end}}
            </ul>
            <div class="main-item">
              <span class="icon">infos</span> <a href="/about">ABOUT</a>
            </div>
          </nav>
        </div>
        <div class="container__center">{{template "content" .}}</div>
        <div class="container__right">{{template "right" .}}</div>
      </div>
    </section>
  </body>
</html>
{{end}}
